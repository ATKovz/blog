## CSS

### CSS 几个重要的原则

1. 每个元素使用唯一的选择器

 可以理解成单一职责，这点可以用预处理的 HASH 来解决，尽可能少用继承来设置，因为某个组件在日后维护中很有可能会剥离原本的统一样式，如果使用继承很有可能导致后续不好维护，在修改别的东西的同时改到不想改的元素

 2. 样式不要依赖外部容器

 如果基本样式使用到上下文，尽可能以组件为单位，不然日后移动组件很可能导致样式异常需要重写

 3. 使用修饰符

 父标签可以拥有一些没有样式的修饰类，如

 ```
 .header {
   width: 100px
 }
 # 此处 header--container 没有任何样式
 .header--container .list-item {
   color: red;
   ...
 }
 ```

 这种时候就可以限定保证组件在其他位置正常表现的情况下，在 header 里颜色变红， 同时对模块污染程度最低


 ## Javascript

js 里主要通过 eslint 来限制，以下有一些比较好的规范

### 代码简洁度

1. 限制代码层级

尽可能不要出现过深的代码块层级

2. 限制函数参数和长度

如果函数参数过多/行数过多，应该考虑函数是不是过于冗杂，是否需要拆分

3. 尽可能让函数可配置

不要限定具体的场景，好比需要改变一个元素的颜色

```
# 不提倡的写法
const setColor = (elm) => {
  elm.style.backgroundColor = red
}

# 提倡的写法
const setColor = (elm, color) => {
  elm.style.backgroundColor = color
}
```

这样可以提高代码可用场景

## 工作流

### 环境

常规的 git 工作流以外，尽可能把构建所设计的人和细节都写到ReadME里，这样能有效降低后续沟通成本


### 需求

有时在涉及旧功能改动的时候，如果不确定该功能改动是否会影响到其他地方，同时提需求的人也权限不够，那可以选择用新写一个功能来代替改动旧功能

如果涉及修改样式，部分时候可以采用更改数据的形式来修改样式, 如

```
.cta[data-size="large"] {

  padding: 16px;
}

/* HTML示例：<a class="cta" data-size="large"> */
```


### 发布

使用 Jenkins/Travis 等构建工具来代替手动打包，这样可以确保环境不会出问题

发布时尽可能使用 git tag 而不是分支来管理，这样可以方便快速查找版本

部分用的比较多同时没有保密性的可以直接挂到 npm 上发布

